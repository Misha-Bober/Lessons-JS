<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>ДЗ JS 5</title>

</head>

<body>
    <div class="wrapper">
        <header>
        </header>
        <main>
            <div>
                <h1>Дз №5</h1>
                <div>
                    <h2>Задача 4</h2>
                    <p>
                        Морський бій. Комп’ютер випадково розташовує одиночний корабель на полі розміром N*M. Маючи К
                        снарядів користувач намагається потопити корабель.
                    </p>
                </div>
            </div>
            <!-- <script>

                // Розміри поля
                const N = 5; // Кількість рядків
                const M = 5; // Кількість стовпців

                // Кількість снарядів користувача
                let shots = 3;

                // Координати корабля
                const shipRow = Math.floor(Math.random() * N);
                const shipCol = Math.floor(Math.random() * M);

                // Гра - користувач намагається потопити корабель
                for (let i = 0; i < shots; i++) {
                    // Введення координат снаряду користувачем
                    let userRow = parseInt(prompt(`Введіть рядок (${N} рядків)`)) - 1;
                    let userCol = parseInt(prompt(`Введіть стовпець (${M} стовпців)`)) - 1;

                    // Перевірка, чи користувач влучив у корабель
                    if (userRow === shipRow && userCol === shipCol) {
                        alert('Ви потопили корабель! Вітаємо!');
                        break;
                    } else {
                        alert('Промах. Корабель не потоплений.');
                    }
                }

                // Якщо користувач використовував усі снаряди, а корабель не потоплений
                if (shots === 0) {
                    alert('Ви використали всі снаряди. Корабель залишився непошкодженим.');
                }

            </script> -->
            <script>
                alert('Пограємо у "Морський бій". Спробуйте потопити корабель.')
                let X = parseInt(prompt('Кількість рядків'))
                let Y = parseInt(prompt('Кількість стовпчиків'))
                const sellCount = X * Y
                let sellNumb = 1
                const shotsNumb = Math.ceil(sellCount * 0.05)
                const sellShip = 1 + Math.floor(Math.random() * sellCount)
                document.write('<table border="1px">')
                for (let row = 0; row < X; row++) {
                    document.write('<tr>')
                    for (let column = 0; column < Y; column++) {
                        if (sellShip === sellNumb)
                            document.write('<td style="border: 3px solid yellow;"></td>')
                        else document.write(`<td></td>`)
                        sellNumb++
                    }
                    document.write('</tr>')
                }
                document.write('</table>')

                let win = false
                for (let i = 0; i < shotsNumb; i++) {
                    let attemptShot = parseInt(prompt(`Кількість спроб: ${shotsNumb}. Куди хочете вистрілити. (від 1 до ${sellCount})`))
                    if (attemptShot === sellShip) {
                        win = true
                        break
                    }
                    else alert('Не влучили в ціль!')
                }
                win ? document.write('<h4>Корабель потонув!</h4>') : document.write('<h4>Ви програли.</h4>')
            </script>
        </main>
    </div>
</body>

</html>