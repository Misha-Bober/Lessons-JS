<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>ДЗ JS 17</title>

</head>

<body>
    <div class="wrapper">
        <header>
        </header>
        <main>
            <div>
                <h1>Дз №17</h1>
                <div>
                    <h2>Задача 3</h2>
                    <p>
                        Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval) програма
                        нагадує про якусь подію (це просто текст) і також виводиться порядковий номер скільки раз вже
                        нагадування було. Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів.
                        Методи зупинки таймера, метод зміни повідомлення без зупинки таймера.
                    </p>
                </div>
            </div>
            <script>
                "use strict";

                class Program {
                    static programReference;
                    static showTextEventCounter = 0;

                    constructor(textEvent, intervalValue) {
                        if (Program.programReference) {
                            console.log("Можна створити лише один екземпляр програми");
                            return Program.programReference;
                        }

                        this.textEvent = textEvent;
                        this.intervalValue = intervalValue;
                        Program.programReference = this;
                    }

                    showTextEvent() {
                        const interval = this.intervalValue * 1000;

                        this.intervalId = setInterval(() => {
                            Program.showTextEventCounter++;
                            alert(`${this.textEvent} - ${Program.showTextEventCounter}`);
                        }, interval);
                    }

                    changeTextEvent(newTextEvent) {
                        this.textEvent = newTextEvent;
                    }

                    stopInterval() {
                        clearInterval(this.intervalId);
                    }
                }

                const firstProgram = new Program('how do you do', 3);
                const secondProgram = new Program('Fine', 1);

                firstProgram.changeTextEvent('Hi');
                firstProgram.showTextEvent();

                setTimeout(() => {
                    firstProgram.stopInterval();
                }, 4000);
            </script>
        </main>
    </div>
</body>

</html>